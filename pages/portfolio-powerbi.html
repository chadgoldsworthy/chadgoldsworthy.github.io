<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    
    <script src="../scripts/navbar.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js" defer></script>

<title>Chad Goldsworthy</title>

<script>
    // Function to fetch code files and insert them into the page
    async function loadCodeBlock(elementId, filePath, language) {
        try {
            const response = await fetch(filePath);
            if (!response.ok) {
                throw new Error(`Failed to load ${filePath}`);
            }
            const code = await response.text();
            const codeElement = document.getElementById(elementId);
            codeElement.textContent = code;
            codeElement.className = `language-${language}`;
            
            // Re-highlight the code with Prism
            Prism.highlightElement(codeElement);
            
            // Add the filename as a title above the code block
            const titleElement = document.getElementById(`${elementId}-title`);
            if (titleElement) {
                const filename = filePath.split('/').pop();
                titleElement.textContent = filename;
            }
        } catch (error) {
            console.error(`Error loading code block: ${error}`);
            document.getElementById(elementId).textContent = `Error loading code: ${error.message}`;
        }
    }
    
    // Load all code blocks when the page loads
    window.addEventListener('DOMContentLoaded', () => {
        // Load each code block (add more as needed)
        loadCodeBlock('code-block-1', '../../code_samples/azure/trigger_notebook.py', 'python');
        loadCodeBlock('code-block-2', '../../code_samples/azure/orchestrator.py', 'python');
        loadCodeBlock('code-block-3', '../../code_samples/azure/execute_notebook.py', 'python');
        // Add more blocks as needed
    });
</script>
</head>

<body>

<!-- Include navbar -->
<object class="navbar" type="text/html" data="../navbar.html"
    style="width:100%; height:100vh; border:none; position: fixed; margin-top: 0px"></object>
    <div class="corner-gif"><img src="../sleepy_cat.gif" alt="Corner animation"></div>

<div class="content">
    <h1>PowerBI Projects</h1>
    <p>
        Below are a few screenshots of PowerBI reports that I have created. These reports use dynamic querying
        to pass parameters into a SQL function to return the data for the report. The data is primarily from SQL aggregate
        tables, as well as some DAX measures.
    </p>
    
    <!------------ Screenshots ------------>
    <!-- Image section -->
    <div class="image-section">
        
        <!-- Row 1 -->
        <div class="image-row">
            <div class="image-container">
                <img src="../../images/powerbi/pbi1.png"/>
            </div>
            
            <div class="image-container">
                <img src="../../images/powerbi/pbi2.png"/>
            </div>
        </div>
        
        <!-- Row 2 -->
        <div class="image-row">
            <div class="image-container">
                <img src="../../images/powerbi/pbi3.png"/>
            </div>
            
            <div class="image-container">
                <img src="../../images/powerbi/pbi4.png"/>
            </div>
        </div>
        
        <!-- Row 3 -->
        <div class="image-row">
            <div class="image-container">
                <img src="../../images/powerbi/pbi5.png"/>
            </div>
            
            <div class="image-container">
                <img src="../../images/powerbi/pbi6.png"/>
            </div>
        </div>
        
        <!-- Row 4 -->
        <div class="image-row">
            <div class="image-container">
                <img src="../../images/powerbi/pbi7.png"/>
            </div>
            
            <div class="image-container">
                <img src="../../images/powerbi/pbi8.png"/>
            </div>
        </div>
    </div>

</div>

</body>
</html>